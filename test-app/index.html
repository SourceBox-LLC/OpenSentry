<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OpenSentry Remote Viewer</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="app-container">
        <header>
            <h1>OpenSentry Remote Security</h1>
            <div class="connection-status">
                <span id="status-indicator" class="status-indicator status-disconnected"></span>
                <span id="status-text">Disconnected</span>
            </div>
        </header>

        <main>
            <div class="camera-container">
                <div class="camera-header">
                    <h2>Security Camera Feed</h2>
                    <div class="camera-controls">
                        <button id="fullscreen-btn" class="btn btn-primary">
                            <svg viewBox="0 0 24 24" width="16" height="16" fill="currentColor">
                                <path d="M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"/>
                            </svg>
                            Fullscreen
                        </button>
                        <button id="refresh-btn" class="btn btn-secondary">
                            <svg viewBox="0 0 24 24" width="16" height="16" fill="currentColor">
                                <path d="M17.65 6.35A7.958 7.958 0 0012 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08A5.99 5.99 0 0112 18c-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"/>
                            </svg>
                            Refresh
                        </button>
                    </div>
                </div>
                <div class="video-wrapper">
                    <img id="camera-feed" src="" alt="Security Camera Feed">
                    <div id="loading-overlay" class="loading-overlay">
                        <div class="loading-spinner"></div>
                        <p>Connecting to camera...</p>
                    </div>
                    <div id="error-overlay" class="error-overlay hidden">
                        <svg viewBox="0 0 24 24" width="48" height="48" fill="currentColor">
                            <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"/>
                        </svg>
                        <p>Connection failed</p>
                        <button id="retry-btn" class="btn btn-primary">Retry Connection</button>
                    </div>
                </div>
            </div>

            <div class="server-info">
                <h2>Server Connection</h2>
                <div class="server-config">
                    <div class="form-group">
                        <label for="server-url">Server URL:</label>
                        <div class="input-group">
                            <input type="text" id="server-url" placeholder="http://your-server-ip:8000" value="">
                            <button id="connect-btn" class="btn btn-primary">Connect</button>
                        </div>
                        <small>Example: http://192.168.1.100:8000</small>
                    </div>
                    
                    <div class="server-status" id="server-status">
                        <p>Enter your server URL and click Connect to view the camera feed.</p>
                    </div>
                </div>
            </div>
            
            <div class="detection-info">
                <h2>Detection Information</h2>
                <div id="detection-status">Not connected to server</div>
            </div>
        </main>

        <footer>
            <p>OpenSentry Remote Viewer &copy; 2025</p>
            <p>For use with OpenSentry Security Camera Server</p>
        </footer>
    </div>

    <script src="app.js"></script>
</body>
</html>
